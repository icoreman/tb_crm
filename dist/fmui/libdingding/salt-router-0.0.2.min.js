function isFn(e){return"function"===type(e)}function isStr(e){return"string"===type(e)}function isObj(e){return"object"===type(e)}function isNumber(e){return"number"===type(e)}function type(e){return Object.prototype.toString.call(e).replace(/\[object (\w+)\]/,"$1").toLowerCase()}function register(){return window.dd&&dd.compareVersion("2.7.0",dd.version,!0)?!0:!1}const Salt_router={preload:function(e){return new Promise(function(o,r){register()?((isStr(e)||isNumber(e))&&(e={pages:[]}),dd.ui.nav.preload({pages:e.pages,onSuccess:function(e){o(e)},onFail:function(e){r(e)}})):r({errorCode:1001,errorMessage:"客户端版本太低"})})},recycle:function(e){return new Promise(function(o,r){register()?"array"==type(e)&&dd.ui.nav.recycle({id:_ids,onSuccess:function(){o("success")},onFail:function(){r("fail")}}):r({errorCode:1001,errorMessage:"客户端版本太低"})})},push:function(e){return new Promise(function(o,r){if(register()){if(e.needPost){var t;try{t=isObj(e.param)?JSON.stringify(e.param):e.param}catch(n){t=""}window.localStorage.setItem(e.id,t)}dd.ui.nav.push({id:e.id,url:e.url,anim:e.anim,transit:{from:{top:123,height:456}},onSuccess:function(e){o(e)},onFail:function(e){r(e)}})}else r({errorCode:1001,errorMessage:"客户端版本太低"})})},goBack:function(){dd.biz.navigation.goBack()},pop:function(e){return new Promise(function(o,r){register()?dd.ui.nav.pop(e.to||""==e.to?{to:e.to,onSuccess:function(e){o(e)},onFail:function(e){r(e)}}:{onSuccess:function(e){o(e)},onFail:function(e){r(e)}}):r({errorCode:1001,errorMessage:"客户端版本太低"})})},postMessage:function(e){var o=this;if("array"===type(e))e.forEach(function(r,e){o.getMessage(r.key)&&window.localStorage.removeItem(r.key),window.localStorage.setItem(r.key,r.value)});else{if(!isObj(e)||!isStr(e.value))throw{errorCode:"1002",errorMessage:"参数错误"};o.getMessage(e.key)&&window.localStorage.removeItem(e.key),window.localStorage.setItem(e.key,e.value)}},getMessage:function(e){if(isStr(e))return window.localStorage.getItem(e);throw{errorCode:"1002",errorMessage:"参数错误"}}};!function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e:window.salt?window.salt.router=e:window.salt={router:e}}(Salt_router);