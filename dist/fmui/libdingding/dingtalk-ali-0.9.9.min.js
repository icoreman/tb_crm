(function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function i(e){M=e}function o(e){U=e}function t(){return function(){process.nextTick(u)}}function r(){return function(){J(u)}}function s(){var e=0,n=new K(u),a=document.createTextNode("");return n.observe(a,{characterData:!0}),function(){a.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=u,function(){e.port2.postMessage(0)}}function d(){return function(){setTimeout(u,1)}}function u(){for(var e=0;N>e;e+=2){var n=$[e],a=$[e+1];n(a),$[e]=void 0,$[e+1]=void 0}N=0}function l(){try{var e=require,n=e("vertx");return J=n.runOnLoop||n.runOnContext,r()}catch(a){return d()}}function m(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function v(e){try{return e.then}catch(n){return ne.error=n,ne}}function g(e,n,a,i){try{e.call(n,a,i)}catch(o){return o}}function b(e,n,a){U(function(e){var i=!1,o=g(a,n,function(a){i||(i=!0,n!==a?y(e,a):z(e,a))},function(n){i||(i=!0,_(e,n))},"Settle: "+(e._label||" unknown promise"));!i&&o&&(i=!0,_(e,o))},e)}function h(e,n){n._state===X?z(e,n._result):n._state===ee?_(e,n._result):S(n,void 0,function(n){y(e,n)},function(n){_(e,n)})}function w(e,a){if(a.constructor===e.constructor)h(e,a);else{var i=v(a);i===ne?_(e,ne.error):void 0===i?z(e,a):n(i)?b(e,a,i):z(e,a)}}function y(n,a){n===a?_(n,p()):e(a)?w(n,a):z(n,a)}function I(e){e._onerror&&e._onerror(e._result),k(e)}function z(e,n){e._state===Q&&(e._result=n,e._state=X,0!==e._subscribers.length&&U(k,e))}function _(e,n){e._state===Q&&(e._state=ee,e._result=n,U(I,e))}function S(e,n,a,i){var o=e._subscribers,t=o.length;e._onerror=null,o[t]=n,o[t+X]=a,o[t+ee]=i,0===t&&e._state&&U(k,e)}function k(e){var n=e._subscribers,a=e._state;if(0!==n.length){for(var i,o,t=e._result,r=0;r<n.length;r+=3)i=n[r],o=n[r+a],i?A(a,i,o,t):o(t);e._subscribers.length=0}}function C(){this.error=null}function P(e,n){try{return e(n)}catch(a){return ae.error=a,ae}}function A(e,a,i,o){var t,r,s,c,d=n(i);if(d){if(t=P(i,o),t===ae?(c=!0,r=t.error,t=null):s=!0,a===t)return void _(a,f())}else t=o,s=!0;a._state!==Q||(d&&s?y(a,t):c?_(a,r):e===X?z(a,t):e===ee&&_(a,t))}function x(e,n){try{n(function(n){y(e,n)},function(n){_(e,n)})}catch(a){_(e,a)}}function B(e,n){var a=this;a._instanceConstructor=e,a.promise=new e(m),a._validateInput(n)?(a._input=n,a.length=n.length,a._remaining=n.length,a._init(),0===a.length?z(a.promise,a._result):(a.length=a.length||0,a._enumerate(),0===a._remaining&&z(a.promise,a._result))):_(a.promise,a._validationError())}function F(e){return new ie(this,e).promise}function E(e){function n(e){y(o,e)}function a(e){_(o,e)}var i=this,o=new i(m);if(!O(e))return _(o,new TypeError("You must pass an array to race.")),o;for(var t=e.length,r=0;o._state===Q&&t>r;r++)S(i.resolve(e[r]),void 0,n,a);return o}function T(e){var n=this;if(e&&"object"==typeof e&&e.constructor===n)return e;var a=new n(m);return y(a,e),a}function W(e){var n=this,a=new n(m);return _(a,e),a}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(e){this._id=ce++,this._state=void 0,this._result=void 0,this._subscribers=[],m!==e&&(n(e)||L(),this instanceof D||R(),x(this,e))}function V(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}var a=e.Promise;(!a||"[object Promise]"!==Object.prototype.toString.call(a.resolve())||a.cast)&&(e.Promise=de)}var j;j=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var J,M,q,O=j,N=0,U=({}.toString,function(e,n){$[N]=e,$[N+1]=n,N+=2,2===N&&(M?M(u):q())}),H="undefined"!=typeof window?window:void 0,G=H||{},K=G.MutationObserver||G.WebKitMutationObserver,Y="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3);q=Y?t():K?s():Z?c():void 0===H&&"function"==typeof require?l():d();var Q=void 0,X=1,ee=2,ne=new C,ae=new C;B.prototype._validateInput=function(e){return O(e)},B.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},B.prototype._init=function(){this._result=new Array(this.length)};var ie=B;B.prototype._enumerate=function(){for(var e=this,n=e.length,a=e.promise,i=e._input,o=0;a._state===Q&&n>o;o++)e._eachEntry(i[o],o)},B.prototype._eachEntry=function(e,n){var i=this,o=i._instanceConstructor;a(e)?e.constructor===o&&e._state!==Q?(e._onerror=null,i._settledAt(e._state,n,e._result)):i._willSettleAt(o.resolve(e),n):(i._remaining--,i._result[n]=e)},B.prototype._settledAt=function(e,n,a){var i=this,o=i.promise;o._state===Q&&(i._remaining--,e===ee?_(o,a):i._result[n]=a),0===i._remaining&&z(o,i._result)},B.prototype._willSettleAt=function(e,n){var a=this;S(e,void 0,function(e){a._settledAt(X,n,e)},function(e){a._settledAt(ee,n,e)})};var oe=F,te=E,re=T,se=W,ce=0,de=D;D.all=oe,D.race=te,D.resolve=re,D.reject=se,D._setScheduler=i,D._setAsap=o,D._asap=U,D.prototype={constructor:D,then:function(e,n){var a=this,i=a._state;if(i===X&&!e||i===ee&&!n)return this;var o=new this.constructor(m),t=a._result;if(i){var r=arguments[i-1];U(function(){A(i,o,r,t)})}else S(a,o,e,n);return o},"catch":function(e){return this.then(null,e)}};var ue=V,le={Promise:de,polyfill:ue};"function"==typeof define&&define.amd?define(function(){return le}):"undefined"!=typeof module&&module.exports?module.exports=le:"undefined"!=typeof this&&(this.ES6Promise=le),ue()}).call(this),function(){"use strict";var e={},n=navigator.userAgent,a=n.match(/AliApp\(\w+\/([a-zA-Z0-9.-]+)\)/);null===a&&(a=n.match(/DingTalk\/([a-zA-Z0-9.-]+)/));var i=a&&a[1];e.ios=/iPhone|iPad|iPod/i.test(n),e.android=/Android/i.test(n),e.version=i,e.cfg={},e.extend=function(e,n){if(n)for(var a in n)e[a]=n[a];return e},e.type=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=e:"function"==typeof define&&(define.amd||define.cmd)&&define(function(){return e}),"undefined"==typeof this.dd&&(this.dd=e),this.__dd=e}.call(window),function(e){"use strict";var n=["backbutton","online","offline","pause","resume","swipeRefresh","appLinkResponse","internalPageLinkResponse","networkEvent","hostTaskEvent","autoCheckIn"];e.extend(e,{events:n})}(__dd),function(e){"use strict";var n="0.9.7",a={device:[{namespace:"device.notification.alert",name:"弹窗alert",ios:"2.4.0",android:"2.4.0",defaultParams:{title:"",buttonName:"确定"}},{namespace:"device.notification.confirm",name:"弹窗confirm",ios:"2.4.0",android:"2.4.0",defaultParams:{title:"",buttonLabels:["确定","取消"]}},{namespace:"device.notification.prompt",name:"弹窗prompt",ios:"2.4.0",android:"2.4.0",defaultParams:{title:"",buttonLabels:["确定","取消"]}},{namespace:"device.notification.vibrate",name:"震动",ios:"2.4.0",android:"2.4.0",defaultParams:{duration:300}},{namespace:"device.accelerometer.watchShake",name:"启动摇一摇",ios:"2.4.0",android:"2.4.0",defaultParams:{watch:!0},paramsCallback:function(n){e.ios&&(n.sensitivity=3.2)}},{namespace:"device.notification.toast",name:"Toast",ios:"2.4.0",android:"2.4.0",defaultParams:{text:"toast",duration:3,delay:0}},{namespace:"device.notification.showPreloader",name:"显示浮层",ios:"2.4.0",android:"2.4.0",defaultParams:{text:"加载中...",showIcon:!0}},{namespace:"device.notification.hidePreloader",name:"隐藏浮层",ios:"2.4.0",android:"2.4.0"},{namespace:"device.geolocation.get",name:"获取经纬度",ios:"2.4.0",android:"2.4.0"},{namespace:"device.notification.actionSheet",name:"ActionSheet控件",ios:"2.4.0",android:"2.4.0"},{namespace:"device.connection.getNetworkType",name:"获取当前网络类型",ios:"2.4.0",android:"2.4.0"},{namespace:"device.base.getUUID",name:"获取通用唯一识别码（卸载重新安装会改变）",ios:"2.4.0",android:"2.4.0"},{namespace:"device.base.getInterface",name:"获取热点接入信息",ios:"2.4.0",android:"2.4.0"},{namespace:"device.launcher.checkInstalledApps",name:"检测应用是否安装",ios:"2.4.0",android:"2.4.0"},{namespace:"device.launcher.launchApp",name:"启动第三方app",ios:"2.4.0",android:"2.4.0"},{namespace:"device.notification.modal",name:"弹浮层",ios:"2.4.0",android:"2.4.0"},{namespace:"device.geolocation.openGps",name:"打开设置，只有android有效",ios:"2.5.0",android:"2.5.0"},{namespace:"device.notification.extendModal",name:"弹层，支持多张图片",ios:"2.5.0",android:"2.5.0"},{namespace:"device.base.getSettings",name:"获取手机设置（目前只有ios支持）",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"device.audio.download",name:"下载音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.play",name:"播放音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.onPlayEnd",name:"监听播放音频停止的事件接口",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.resume",name:"暂停之后继续播放音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.pause",name:"暂停播放音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.stop",name:"停止播放音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.startRecord",name:"开始录制音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.stopRecord",name:"停止录制音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.onRecordEnd",name:"监听录音自动停止",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.upload",name:"上传已录制的音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.translateVoice",name:"音频转文字",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.base.getScanWifiList",name:"获取wifi列表",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.base.getWifiStatus",name:"获取wifi是否打开",ios:"2.11.0",android:"2.11.0",release:!1},{namespace:"device.nfc.nfcRead",name:"nfc读取接口",ios:"2.11.0",android:"2.11.0",release:!1},{namespace:"device.nfc.nfcWrite",name:"nfc写接口",ios:"2.11.0",android:"2.11.0",release:!1},{namespace:"device.health.stepCount",name:"健康步数",ios:"2.11.0",android:"2.11.0",release:!1},{namespace:"device.health.dayStepCount",name:"健康每日数据",ios:"2.11.0",android:"2.11.0",release:!1},{namespace:"device.base.enableBluetooth",name:"开启蓝牙",ios:"3.3.0",android:"3.3.0",release:!1},{namespace:"device.base.enableLocation",name:"开启定位",ios:"3.3.0",android:"3.3.0",release:!1},{namespace:"device.base.startBindDevice",name:"跳转到硬件绑定页面",ios:"3.3.0",android:"3.3.0",release:!1},{namespace:"device.base.unBindDevice",name:"硬件解绑",ios:"3.3.0",android:"3.3.0",release:!1},{namespace:"device.base.getScanWifiListAsync",name:"获取WIFI",ios:"3.3.0",android:"3.3.0",release:!1}],biz:[{namespace:"biz.util.open",name:"打开应用内页面",ios:"2.4.0",android:"2.4.0",defaultParams:{}},{namespace:"biz.util.openLink",name:"新开页面",ios:"2.4.0",android:"2.4.0",defaultParams:{credible:!0,showMenuBar:!0}},{namespace:"biz.util.share",name:"分享",ios:"2.4.0",android:"2.4.0",defaultParams:{title:"",buttonName:"确定"}},{namespace:"biz.util.ut",name:"上报埋点",ios:"2.4.0",android:"2.4.0",paramsCallback:function(n){var a=n.value,i=[];if(a&&"Object"==e.type(a))if(e.ios)a=JSON.stringify(a);else if(e.android){for(var o in a)i.push(o+"="+a[o]);a=i.join(",")}n.value=a}},{namespace:"biz.util.datepicker",name:"日期选择器",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.util.timepicker",name:"弹窗alert",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.user.get",name:"获取当前登录用户信息",ios:"2.4.0",android:"2.4.0",offline:!0},{namespace:"biz.navigation.setLeft",name:"设置导航左侧按钮",ios:"2.4.0",android:"2.4.0",defaultParams:{watch:!0,show:!0,control:!1,showIcon:!0,text:""}},{namespace:"biz.navigation.setRight",name:"设置导航右侧按钮",ios:"2.4.0",android:"2.4.0",defaultParams:{watch:!0,show:!0,control:!1,showIcon:!0,text:""}},{namespace:"biz.navigation.setTitle",name:"弹窗alert",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.navigation.back",name:"弹窗alert",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.util.uploadImage",name:"弹窗alert",ios:"2.4.0",android:"2.4.0",defaultParams:{multiple:!1}},{namespace:"biz.util.previewImage",name:"弹窗alert",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.util.qrcode",name:"弹窗alert",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.ding.post",name:"发钉",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.telephone.call",name:"打电话",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.chat.chooseConversation",name:"选会话",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.contact.createGroup",name:"创建群",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.util.datetimepicker",name:"日期时间控件",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.util.chosen",name:"下拉控件",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.chat.getConversationInfo",name:"查询会话信息",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.map.search",name:"地图搜索",ios:"2.4.0",android:"2.4.0",release:!1,defaultParams:{scope:500}},{namespace:"biz.map.locate",name:"地图定位",ios:"2.4.0",android:"2.4.0",release:!1},{namespace:"biz.map.view",name:"查看定位",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.util.scan",name:"扫码(支持二维码和条形码)",ios:"2.4.0",android:"2.4.0",defaultParams:{type:"qrCode"}},{namespace:"biz.contact.choose",name:"修改企业通讯录选人",ios:"2.4.0",android:"2.4.0",defaultParams:{multiple:!0,startWithDepartmentId:0,users:[]},paramsCallback:function(n){e.cfg&&e.cfg.corpId&&(n.corpId=e.cfg.corpId)}},{namespace:"biz.contact.complexChoose",name:"企业通讯录同时选人，选部门",ios:"2.4.0",android:"2.4.0",defaultParams:{startWithDepartmentId:0,selectedUsers:[],selectedDepartments:[]},paramsCallback:function(n){e.cfg&&e.cfg.corpId&&(n.corpId=e.cfg.corpId)}},{namespace:"biz.navigation.createEditor",name:"创建通用组件",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.navigation.finishEditor",name:"销毁通用组件",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.chat.pickConversation",name:"选群组",ios:"2.4.2",android:"2.4.2"},{namespace:"biz.contact.complexChoose",name:"企业通讯录同时选人，选部门",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.navigation.setIcon",name:"设置导航icon",ios:"2.4.0",android:"2.4.0",defaultParams:{watch:!0,showIcon:!0,iconIndex:1}},{namespace:"biz.navigation.close",name:"关闭webview",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.util.uploadImageFromCamera",name:"上传图片",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.user.secretID",name:"获取用户登录唯一标识",ios:"2.5.2",android:"2.5.2"},{namespace:"biz.customContact.choose",name:"自定义选人组件",ios:"2.5.2",android:"2.5.2",defaultParams:{isShowCompanyName:!1,max:50},paramsCallback:function(n){e.cfg&&e.cfg.corpId&&(n.corpId=e.cfg.corpId)}},{namespace:"biz.customContact.multipleChoose",name:"自定义选人组件（多选）",ios:"2.4.0",android:"2.4.0",defaultParams:{isShowCompanyName:!1,max:50},paramsCallback:function(n){e.cfg&&e.cfg.corpId&&(n.corpId=e.cfg.corpId)}},{namespace:"biz.util.pageClick",name:"页面打点",ios:"2.5.2",android:"2.5.2"},{namespace:"biz.chat.chooseConversationByCorpId",name:"选择企业会话",ios:"2.6.0",android:"2.6.0",defaultParams:{max:50},paramsCallback:function(n){e.cfg&&e.cfg.corpId&&(n.corpId=e.cfg.corpId)}},{namespace:"biz.chat.toConversation",name:"跳转会话",ios:"2.6.0",android:"2.6.0",paramsCallback:function(n){e.cfg&&e.cfg.corpId&&(n.corpId=e.cfg.corpId)}},{namespace:"biz.navigation.goBack",name:"",ios:"2.6.0",android:"2.6.0"},{namespace:"biz.navigation.setMenu",name:"设置导航左侧按钮",ios:"2.6.0",android:"2.6.0",defaultParams:{watch:!0}},{namespace:"biz.util.uploadAttachment",name:"附件上传",ios:"2.7.0",release:!1,android:"2.7.0"},{namespace:"biz.cspace.preview",name:"附件预览",ios:"2.7.0",android:"2.7.0",release:!1,defaultParams:{}},{namespace:"biz.cspace.saveFile",name:"转存附件",ios:"2.7.6",android:"2.7.6"},{namespace:"biz.cspace.chooseSpaceDir",name:"选择钉盘目录",ios:"2.7.6",android:"2.7.6"},{namespace:"biz.clipboardData.setData",name:"添加到黏贴板",ios:"2.7.0",android:"2.7.0",release:!1},{namespace:"biz.intent.fetchData",name:"选择图片",ios:"2.7.6",android:"2.7.6",release:!1},{namespace:"biz.chat.locationChatMessage",name:"未知",ios:"2.7.6",android:"2.7.6",release:!1},{namespace:"biz.navigation.popGesture",name:"未知",ios:"2.7.6",android:"2.7.6",release:!1},{namespace:"biz.util.warn",name:"报警接口",ios:"2.7.6",android:"2.7.6",release:!1,paramsCallback:function(e){var n=e.logName||"h5_common_error",a="url="+location.href,i=[],o=e.obj||{};for(var t in o)i.push(t+"="+o[t]);e.message={msg:n+" "+a+" "+i.join(" ")}}},{namespace:"biz.util.multiSelect",name:"下拉多选",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.contact.getMobileContact",name:"查询手机联系人",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.telephone.showCallMenu",name:"打电话选择面板",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.util.presentWindow",name:"打开窗口",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.contact.changeCustomerFollower",name:"企业通讯录选人，加入微应用权限过滤",ios:"2.8.0",android:"2.8.0",paramsCallback:function(n){e.cfg&&e.cfg.corpId&&(n.corpId=e.cfg.corpId)}},{namespace:"biz.notify.send",name:"消息通知H5到Native",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.alipay.pay",name:"支付宝移动支付SDK，订单支付JS-API封装",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.alipay.auth",name:"支付宝移动支付SDK，授权JS-API封装",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.util.fetchImageData",name:"在相册中拾取某张图片，对图片数据base64编码后返回给js",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.util.scanCard",name:"名片扫描",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.util.addDesktopShortcuts",name:"添加桌面快捷方式",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.util.timestamp",name:"获取服务器时间",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"biz.contact.complexPicker",name:"选人",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"biz.util.encrypt",name:"加密",ios:"2.9.1",android:"2.9.1",release:!1},{namespace:"biz.util.decrypt",name:"解密",ios:"2.9.1",android:"2.9.1",release:!1},{namespace:"biz.contact.pickCustomer",name:"选择客户",ios:"2.11",android:"2.11",release:!1},{namespace:"biz.map.searchRoute",name:"查询路线",ios:"2.11",android:"2.11",release:!1},{namespace:"biz.contact.setRule",name:"设置规则",ios:"2.15",android:"2.15",release:!1},{namespace:"biz.auth.requestAuthCode",name:"JS免登",ios:"2.15",android:"2.15",release:!1},{namespace:"biz.redenvelop.sendNormalRedEnvelop",name:"x",ios:"2.13",android:"2.13",release:!1},{namespace:"biz.redenvelop.sendEnterpriseRedEnvelop",name:"x",ios:"2.15",android:"2.15",release:!1},{namespace:"biz.contact.departmentsPicker",name:"选部门",ios:"3.0",android:"3.0",release:!1},{namespace:"biz.contact.externalComplexPicker",name:"选外部通信录",ios:"3.0",android:"3.0",release:!1},{namespace:"biz.contact.addFromManual",name:"选企业通信录的人",ios:"3.0",android:"3.0",release:!1},{namespace:"biz.contact.addFromContact",name:"选手机联系人",ios:"3.0",android:"3.0",release:!1},{namespace:"biz.contact.externalEditForm",name:"编辑联系人",ios:"3.0",android:"3.0",release:!1},{namespace:"biz.contact.addUserForm",name:"添加联系人",ios:"3.1",android:"3.1",release:!1},{namespace:"biz.contact.chooseMobileContacts",name:"选择手机联系人",ios:"3.1",android:"3.1",release:!1},{namespace:"biz.util.openFloatWindow",name:"打开浮层窗口",ios:"3.2",android:"3.2",release:!1},{namespace:"biz.data.getAvatar",name:"获取头像URL",ios:"3.3",android:"3.3",release:!1}],ui:[{namespace:"ui.input.plain",name:"输入框（单行）",ios:"2.4.0",android:"2.4.0"},{namespace:"ui.progressBar.setColors",name:"设置顶部进度条颜色",ios:"2.4.0",android:"2.4.0"},{namespace:"ui.pullToRefresh.enable",name:"启用下拉刷新功能",ios:"2.4.0",android:"2.4.0",defaultParams:{watch:!0}},{namespace:"ui.pullToRefresh.stop",name:"收起下拉刷新控件",ios:"2.4.0",android:"2.4.0"},{namespace:"ui.pullToRefresh.disable",name:"禁用下拉刷新功能",ios:"2.4.0",android:"2.4.0"},{namespace:"ui.webViewBounce.enable",name:"启用webview下拉弹性效果",ios:"2.4.0",android:"2.4.0"},{namespace:"ui.webViewBounce.disable",name:"禁用webview下拉弹性效果",ios:"2.4.0",android:"2.4.0"},{namespace:"ui.nav.preload",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.nav.go",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.nav.recycle",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.nav.push",name:"",ios:"2.10.0",android:"2.11.0",release:!1},{namespace:"ui.nav.pop",name:"",ios:"2.10.0",android:"2.11.0",release:!1},{namespace:"ui.nav.quit",name:"",ios:"2.10.0",android:"2.11.0",release:!1},{namespace:"ui.nav.close",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.nav.getCurrentId",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.drawer.init",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.drawer.config",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.drawer.enable",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.drawer.disable",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.drawer.open",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.drawer.close",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.tab.init",name:"初始化tab",android:"2.7.6"},{namespace:"ui.tab.start",name:"唤起tab",android:"2.7.6"},{namespace:"ui.tab.config",name:"配置tab",android:"2.7.6"},{namespace:"ui.tab.select",name:"tab选择",android:"2.7.6"},{namespace:"ui.tab.add",name:"增加tab",android:"2.7.6"},{namespace:"ui.tab.remove",name:"移除tab",android:"2.7.6"},{namespace:"ui.appLink.open",name:"应用跳转",ios:"2.7.0",android:"2.7.0",release:!1},{namespace:"ui.appLink.request",name:"发送消息",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"ui.appLink.response",name:"返回消息",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"ui.appLink.fetch",name:"获取请求页面（sourceApp）的数据",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"ui.nav.push",name:"往路径堆栈中push路径",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"ui.nav.pop",name:"路径堆栈中删除view 路径",ios:"2.8.0",android:"2.8.0",release:!1}],runtime:[{namespace:"runtime.info",name:"获取容器信息",ios:"2.4.0",android:"2.4.0"},{namespace:"runtime.permission.requestAuthCode",name:"请求授权码，免登改造用",ios:"2.4.0",android:"2.4.0"},{namespace:"runtime.permission.requestJsApis",name:"权限校验jsapi，隐藏方法，只限sdk内部调用",ios:"2.4.0",android:"2.4.0",release:!1},{namespace:"runtime.message.post",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"runtime.message.fetch",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"runtime.permission.requestOperateAuthCode",name:"",ios:"3.3.0",android:"3.3.0",release:!1}],internal:[{namespace:"internal.lwp.call",name:"lwp接口(目前只有套件使用)",ios:"2.5.0",android:"2.5.0",offline:!0},{namespace:"internal.microapp.checkInstalled",name:"检测微应用是否安装",ios:"2.5.0",android:"2.5.0"},{namespace:"internal.user.getRole",name:"获取角色",ios:"2.5.0",android:"2.5.0"},{namespace:"internal.request.lwp",name:"lwp通道",ios:"2.5.1",android:"2.5.1",paramsCallback:function(e){var n=e.body;n=JSON.stringify(n),e.body=n}},{namespace:"internal.util.encryData",name:"参数加密生成key",ios:"2.5.2",android:"2.5.2"},{namespace:"internal.log.upload",name:"上报日志到服务端",ios:"2.6.0",android:"2.6.0"},{namespace:"internal.hpm.get",name:"获取hpm配置信息（暂未开发）",ios:"2.7.0",android:"2.7.0"},{namespace:"internal.hpm.update",name:"更新hpm",ios:"2.7.0",android:"2.7.0"},{namespace:"internal.request.getSecurityToken",name:"获取securityToken",ios:"2.7.0",android:"2.7.0"},{namespace:"internal.phoneContact.add",name:"添加号码到手机通信录",ios:"2.7.6",android:"2.7.6"},{namespace:"internal.log.add",name:"日志写入到客户端",ios:"2.7.6",android:"2.7.6",paramsCallback:function(e){var n="h5_log=1";e.text=n+e.text}},{namespace:"internal.pageLink.request",name:"发送消息",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.pageLink.response",name:"返回消息",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.pageLink.fetch",name:"获取请求页面（sourceApp）的数据",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.util.getCorpIdByOrgId",name:"orgId换corpId",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.util.getOrgIdByCorpId",name:"corpId换orgId",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.request.httpOverLWP",name:"http转lwp",ios:"2.8.0",android:"2.8.0"},{namespace:"internal.notify.send",name:"消息通知H5到Native",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.schema.open",name:"内部页面跳转",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.contact.chooseMobileContact",name:"手机通讯录选人（单选）",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.util.isSimulator",name:"模拟器",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.util.getWua",name:"人机识别",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.beacon.detectBeacons",name:"beacon",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.host.lwp",name:"离线托管的lwp请求",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.host.query",name:"查询离线托管任务",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.host.cancel",name:"取消离线托管任务",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.schema.openWifiSetting",name:"跳转到wifi设置（Android）",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.createOrg.industryInfo",name:"获取创建团队之后的行业信息",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.createOrg.successJump",name:"创建团队之后跳转",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.beacon.detectStart",name:"detectStart",ios:"3.1.0",android:"3.1.0",release:!1},{namespace:"internal.beacon.detectStop",name:"detectStop",ios:"3.1.0",android:"3.1.0",release:!1},{namespace:"internal.attend.assistant",name:"上班助手",ios:"2.11.0",android:"2.11.0",release:!1},{namespace:"internal.certify.step",name:"查询活体认证状态",ios:"2.12.0",android:"2.12.0",release:!1},{namespace:"internal.certify.biometric",name:"调用活体拍照",ios:"2.12.0",android:"2.12.0",release:!1},{namespace:"internal.certify.takePhoto",name:"拍照",ios:"2.12.0",android:"2.12.0",release:!1},{namespace:"internal.certify.submit",name:"上班助手",ios:"2.12.0",android:"2.12.0",release:!1},{namespace:"internal.hpm.queryInfo",name:"hpm查询",ios:"2.15.0",android:"2.15.0",release:!1,defaultParams:{appId:"-8"}},{namespace:"internal.hpm.delete",name:"hpm删除",ios:"2.15.0",android:"2.15.0",release:!1,defaultParams:{appId:"-8"}},{namespace:"internal.beacon.bind",name:"beancon绑定",ios:"3.1.0",android:"3.1.0",release:!1,defaultParams:{}},{namespace:"internal.channel.infoExist",name:"检查客户端上服务窗是否已开通",ios:"3.2.0",android:"3.2.0",release:!1,defaultParams:{}},{namespace:"internal.channel.openPage",name:"打开指定企业服务窗相关页面",ios:"3.2.0",android:"3.2.0",release:!1,defaultParams:{}},{namespace:"internal.notify.add",name:"添加消息",ios:"3.3.0",android:"3.3.0",release:!1,defaultParams:{}}],util:[{namespace:"util.localStorage.getItem",name:"本地存储读",ios:"2.4.2",android:"2.4.2",release:!1},{namespace:"util.localStorage.setItem",name:"本地存储写",ios:"2.4.2",android:"2.4.2",release:!1},{namespace:"util.localStorage.removeItem",name:"本地存储移除操作",ios:"2.4.2",android:"2.4.2",release:!1},{namespace:"util.domainStorage.getItem",name:"本地存储（区分域名）读",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"util.domainStorage.setItem",name:"本地存储（区分域名）写",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"util.domainStorage.removeItem",name:"本地存储（区分域名）删除",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"util.domainStorage.clearItems",name:"本地存储（区分域名）清空",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"biz.util.vip",name:"vip监控",ios:"3.3.0",android:"3.3.0",release:!1}],preRelease:[{namespace:"preRelease.appLink.open",name:"应用跳转",ios:"2.7.0",android:"2.7.0",release:!1},{namespace:"preRelease.appLink.request",name:"发送消息",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"preRelease.appLink.response",name:"返回消息",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"preRelease.appLink.fetch",name:"获取请求页面（sourceApp）的数据",ios:"2.8.0",android:"2.8.0",release:!1}],channel:[{namespace:"channel.permission.requestAuthCode",name:"服务窗请求授权码，免登改造用",ios:"3.0.0",android:"3.0.0"},{namespace:"channel.open.profile",name:"服务窗打开个人profile页面",ios:"3.0.0",android:"3.0.0"}]};e.extend(e,{sdk_version:n}),e.extend(e,{methods:a})}(__dd),function(e,n){"use strict";function a(n,a,i){"undefined"==typeof WebViewJavascriptBridge,e.__getMockName&&(n=e.__getMockName(n));var o={};o=e.extend(o,i&&i.defaultParams),e.extend(o,a),i&&i.paramsCallback&&i.paramsCallback(o);var t=function(e){console.log("默认成功回调",n,e)},r=function(e){console.log("默认失败回调",n,e)},s=function(){};o.onSuccess&&(t=o.onSuccess,delete o.onSuccess),o.onFail&&(r=o.onFail,delete o.onFail),o.onCancel&&(s=o.onCancel,delete o.onCancel);var c=function(e){var n=e||{},a=n.errorCode,i=n.result;"0"===a?t&&t.call(null,i):"-1"===a?s&&s.call(null,i):r&&r.call(null,i,a)},d=o.watch;if(e.android){var u=n.split("."),l=u.pop(),m=u.join(".");window.WebViewJavascriptBridgeAndroid&&WebViewJavascriptBridgeAndroid(t,r,m,l,o)}else e.ios&&(d?(window.WebViewJavascriptBridge&&WebViewJavascriptBridge.registerHandler(n,function(e,n){c({errorCode:"0",errorMessage:"成功",result:e}),n&&n({errorCode:"0",errorMessage:"成功"})}),window.WebViewJavascriptBridge&&WebViewJavascriptBridge.callHandler(n,o)):window.WebViewJavascriptBridge&&WebViewJavascriptBridge.callHandler(n,o,c))}var i,o=!1,t=null,r="runtime.permission.requestJsApis",s=null,c=!1,d=!1;window.ES6Promise?(ES6Promise.polyfill(),d=!0):window.Promise||(window.Promise=function(){});e.extend(e,{ability:"",config:function(n){n&&(t={corpId:n.corpId,appId:n.appId||-1,timeStamp:n.timeStamp,nonceStr:n.nonceStr,signature:n.signature,jsApiList:n.jsApiList,type:n.type||-1},e.cfg=t,n.agentId&&(t.agentId=n.agentId))},error:function(e){s=e},ready:function(a){var i=function(n){if(!n)return console.log("bridge初始化失败");if(null===t)console.log("没有配置dd.config"),a(n);else if(e.ios)n.callHandler(r,t,function(e){var i=e||{},o=i.errorCode,t=i.errorMessage||"";i.result;"0"===o?a(n):setTimeout(function(){s&&s({message:"权限校验失败 "+t,errorCode:3})})});else if(e.android){var i=r.split("."),c=i.pop(),d=i.join(".");n(function(){a(n)},function(e){setTimeout(function(){var n=e&&e.errorMessage||"";s&&s({message:"权限校验失败 "+n,errorCode:3})})},d,c,t)}if(o===!1&&(o=!0,e.events.forEach(function(a){e.ios&&n.registerHandler(a,function(e,n){var i=document.createEvent("HTMLEvents");i.data=e,i.detail=e,i.initEvent(a),document.dispatchEvent(i),n&&n({errorCode:"0",errorMessage:"成功"})})}),null===t)){var u={url:encodeURIComponent(window.location.href),js:e.sdk_version,cid:t&&t.corpId||""};e.biz.util.ut({key:"dd_open_js_monitor",value:JSON.stringify(u),onSuccess:function(e){}})}};if(e.ios&&n.WebViewJavascriptBridge){try{WebViewJavascriptBridge.init(function(e,n){})}catch(d){console.log(d.message)}return i(WebViewJavascriptBridge)}if(e.android&&n.WebViewJavascriptBridgeAndroid)return i(WebViewJavascriptBridgeAndroid);if(e.ios)document.addEventListener("WebViewJavascriptBridgeReady",function(){if("undefined"==typeof WebViewJavascriptBridge)return console.log("请在钉钉App打开此页面");try{WebViewJavascriptBridge.init(function(e,n){})}catch(e){console.log(e.message)}c=!0,i(WebViewJavascriptBridge)},!1);else{if(!e.android)return console.log("请在钉钉App打开此页面");var u=function(){try{n.WebViewJavascriptBridgeAndroid=n.nuva.require(),c=!0,i(WebViewJavascriptBridgeAndroid)}catch(e){console.log("window.nuva.require出错",e.message),i(null)}};n.nuva&&(void 0===n.nuva.isReady||n.nuva.isReady)?u():document.addEventListener("runtimeready",function(){u()},!1)}},compareVersion:function(e,n,a){if("string"!=typeof e||"string"!=typeof n)return!1;for(var i,o,t=e.split("."),r=n.split(".");i===o&&r.length>0;)i=t.shift(),o=r.shift();return a?(0|o)>=(0|i):(0|o)>(0|i)}});var u=function(n,a){for(var i=n.split("."),o=e,t=0,r=i.length;r>t;t++)t===r-1&&(o[i[t]]=a),"undefined"==typeof o[i[t]]&&(o[i[t]]={}),o=o[i[t]]},l=function(n,o,t){return d?new Promise(function(r,s){o=o||{},o._onSuccess=o.onSuccess||function(){},o._onFail=o.onFail||function(){},o._onCancel=o.onCancel||function(){},o.onSuccess=function(){o._onSuccess.apply(this,arguments),r.apply(this,arguments)},o.onFail=function(){o._onFail.apply(this,arguments),s.apply(this,arguments)},o.onCancel=function(){o._onCancel.apply(this,arguments),s.apply(this,arguments);
},i=new Promise(function(n,a){e.ready(function(e){n(e)})}),Promise.all([i]).then(function(i){o=o||{},e.cfg&&e.cfg.corpId&&(o.corpId=e.cfg.corpId),a(n,o,t)})}):(o=o||{},e.cfg&&e.cfg.corpId&&(o.corpId=e.cfg.corpId),a(n,o,t),void 0)};for(var m in e.methods)e.methods[m].forEach(function(e){u(e.namespace,function(n){return l(e.namespace,n,e)})});e._invoke=function(e){u(e.namespace,function(n){return l(e.namespace,n,e)})},e.biz.util.pageClick=function(n){var a="open_micro_log_record_client",i=+new Date,o=n.corpId,r=n.agentId;o||(o=t&&t.corpId||""),r||(r=t&&t.agentId||"");var s={visitTime:i,clickType:2,clickButton:n.clickButton||"",url:location.href,corpId:o,agentId:r};return e.biz.util.ut({key:a,value:s}),d?new Promise(function(e){e()}):void 0}}(__dd,window),function(){function e(){return/ios|iphone|ipad/i.test(navigator.userAgent)}function n(e){var n;return document.createEvent?(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,1)):n=new CustomEvent(e,{bubbles:!0,cancelable:!0}),document.dispatchEvent(n),n&&n.defaultPrevented}function a(e){return"string"==typeof e?{text:e}:e}function i(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a]);return e}function o(e,n){var a=i({errorCode:0,errorMessage:""},n||{});e&&e(a)}function t(e,n){-1==n.errorCode&&(n.errorCode=6);var a=i({errorCode:3,errorMessage:""},n||{});e&&e(a)}var r=window.Ali=window.Ali||{},s={version:dd.version,isDingDing:!0,ua:navigator.userAgent,isIOS:/ios|iphone|ipad/i.test(navigator.userAgent),isAndroid:dd.android,isWeb:!1,appinfo:{engine:"dingding",engineVer:dd.version,name:"dingding",ver:dd.version},geolocation:{getCurrentPosition:function(e,n){dd.device.geolocation.get({coordinate:1,targetAccuracy:300,onSuccess:function(e){e.coords={latitude:e.latitude,longitude:e.longitude},o(n,e)},onFail:function(e){t(n,e)}})}},map:{locate:function(e,n){e.scope?dd.biz.map.search({longitude:e.longitude,latitude:e.latitude,scope:e.scope,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}}):dd.biz.map.locate({longitude:e.longitude,latitude:e.latitude,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}})},view:function(e,n){dd.biz.map.view({longitude:e.longitude,latitude:e.latitude,title:e.title,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}})}},getUtdid:function(e){dd.device.base.getUUID({onSuccess:function(n){n.utdid=n.uuid,o(e,n)},onFail:function(n){t(e,n)}})},setTitle:function(e,n){e=a(e),dd.biz.navigation.setTitle({title:e.text,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}})},setLeft:function(e,n){dd.biz.navigation.setLeft({show:e.show,control:e.control,showIcon:e.showIcon,text:e.text,onSuccess:function(){o(n)},onFail:function(e){t(n,e)}})},setRight:function(e,n){dd.biz.navigation.setRight({show:e.show,control:e.control,showIcon:e.showIcon,text:e.text,onSuccess:function(e){o(n)},onFail:function(e){t(n,e)}})},hideTitle:function(e){t(e,{errorCode:1})},confirm:function(e,n){var a=[],i={};e.okButton&&(a.push(e.okButton),i[a.length-1]=!0),e.cancelButton&&(a.push(e.cancelButton),i[a.length-1]=!1),dd.device.notification.confirm({message:e.message,title:e.title,buttonLabels:a,onSuccess:function(e){e.ok=i[e.buttonIndex],o(n,e)},onFail:function(e){t(n,e)}})},alert:function(e,n){dd.device.notification.alert({message:e.message,title:e.title,buttonName:e.okButton,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}})},prompt:function(e,n){var a=[],i={};e.okButton&&(a.push(e.okButton),i[a.length-1]=!0),e.cancelButton&&(a.push(e.cancelButton),i[a.length-1]=!1),dd.device.notification.prompt({message:e.message,title:e.title,buttonLabels:a,onSuccess:function(e){e.ok=i[e.buttonIndex],o(n,e)},onFail:function(e){t(n,e)}})},toast:function(e,n){e=a(e),dd.device.notification.toast({icon:e.type,text:e.text,duration:parseInt(e.duration/1e3)||2,delay:e.delay?parseInt(e.delay/1e3):0,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}})},actionSheet:function(e,n){dd.device.notification.actionSheet({title:e.title,cancelButton:e.cancelBtn,otherButtons:e.btns,destructiveBtnIndex:e.destructiveBtnIndex,onSuccess:function(e){e.index=e.buttonIndex,o(n,e)},onFail:function(e){t(n,e)}})},chosen:function(e,n){dd.biz.util.chosen({source:e.source,selectedKey:e.selectedKey,onSuccess:function(e){o(n,e)},onFail:function(){t(n,err)}})},showLoading:function(e,n){dd.device.notification.showPreloader({text:e,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}})},hideLoading:function(e){dd.device.notification.hidePreloader({onSuccess:function(n){o(e,n)},onFail:function(n){t(e,n)}})},network:{getType:function(e){dd.device.connection.getNetworkType({onSuccess:function(n){var a={isOnline:"none"==n.result,isWifi:"wifi"==n.result,is4G:"4g"==n.result,is3G:"3g"==n.result,is2G:"2g"==n.result,isG:!1,isH:!1,isE:!1,type:n.result};o(e,a)},onFail:function(n){t(e,n)}})}},datepicker:function(e,n){var a=/y/i.test(e.format),i=/M/.test(e.format),r=/d/i.test(e.format),s=/h/i.test(e.format),c=/m/.test(e.format),d=a||i||r,u=s||c;d&&u?dd.biz.util.datetimepicker({format:e.format.replace(/D/g,"d"),value:e.value,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}}):d&&!u?dd.biz.util.datepicker({format:e.format.replace(/D/g,"d"),value:e.value,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}}):!d&&u&&dd.biz.util.timepicker({format:e.format.replace(/D/g,"d"),value:e.value,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}})},photo:function(e,n){e.cameraOnly?dd.biz.util.uploadImageFromCamera({compression:void 0!==e.compression?e.compression:!0,onSuccess:function(e){e.photo=e[0],e.photos=e,o(n,e)},onFail:function(e){t(n,e)}}):dd.biz.util.uploadImage({multiple:e.multiple,max:e.max,compression:void 0!==e.compression?e.compression:!0,onSuccess:function(e){e.photo=e[0],e.photos=e,o(n,e)},onFail:function(e){t(n,e)}})},pullToRefresh:{enable:function(e){dd.ui.pullToRefresh.enable({onSuccess:function(n){o(e,n)},onFail:function(n){t(e,n)}})},stop:function(){dd.ui.pullToRefresh.stop()},disable:function(){dd.ui.pullToRefresh.disable()}},bounce:{enable:function(){dd.ui.webViewBounce.enable()},disable:function(){dd.ui.webViewBounce.disable()}},fileViewer:function(){},imageViewer:function(e,n){var a=e.images.map(function(e){return e.u});dd.biz.util.previewImage({urls:a,current:a[e.init||0],showRemoveButton:e.showRemoveButton,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}})},getToken:function(e,n){return"function"==typeof e?(console.log("opt.corpId is required"),!1):void dd.runtime.permission.requestAuthCode({corpId:e.corpId,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}})},contacts:{get:function(e,n){dd.biz.contact.choose({multiple:e.multiple,users:e.users,corpId:e.corpId,isNeedSearch:e.isNeedSearch,max:e.max,startWithDepartmentId:e.startWithDepartmentId,onSuccess:function(e){for(var a=0;a<e.length;a++)e[a].phoneNumber=e[a].mobilePhone;var i={results:e};o(n,i)},onFail:function(e){t(n,e)}})},getDep:function(e,n){dd.biz.contact.complexChoose(i(e,{onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}}))}},chat:{getGroup:function(e,n){dd.biz.chat.chooseConversationByCorpId({corpId:e.corpId,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}})},post:function(e,n){dd.biz.ding.post({users:e.users,corpId:e.corpId,type:e.type,attachment:e.attachment,alertType:e.alertType,text:e.text,onSuccess:function(){o(n)},onFail:function(){t(n)}})}},phoneDial:function(e,n){dd.biz.telephone.call({users:e.users,corpId:e.corpId,onSuccess:function(){o(n)},onFail:function(){t(n)}})},profile:function(e,n){dd.biz.util.open({name:"profile",params:{id:e.uid,corpId:e.corpId},onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}})},pushWindow:function(e,n){dd.biz.util.openLink(i(e,{onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}}))},popWindow:function(){dd.biz.navigation.close()},preview:function(e){dd.biz.cspace.preview(i(e))},scan:function(e,n){dd.biz.util.scan(i(e,{onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}}))},upload:function(e,n){dd.biz.util.uploadAttachment(i(e,{onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}}))},h5TradePay:function(e,n){dd.biz.alipay.pay({info:e.signStr,onSuccess:function(e){o(n,e)},onFail:function(e){t(n,e)}})},_ready:function(e){dd.ready(e)},config:function(e){dd.config(e)},compareversion:function(e){return dd.compareVersion(e.oldVersion,e.newVersion,e.containEqual)},loginPassport:function(e,n){if(""==e.corpid||""==e.appName||""==e.client_secret||""==e.redirect_uri)throw new Error("参数不能为空");if(!n||"function"!=typeof n)throw new Error("callback 不能为空");var a={redirect_uri:e.redirect_uri,grant_type:"SSO_TICKET",client_id:e.appName,client_secret:e.client_secret,code:null,corpid:e.corpid};r.getToken({corpId:e.corpid},function(i){a.code=i.code,c(e.url,a,"callback",function(e){n(e)})})}};s.ready=r.ready||s._ready,i(r,s),dd.ready(function(){document.addEventListener("backbutton",function(e){try{e.preventDefault();var a=n("back");a||dd.biz.navigation.goBack()}catch(e){console.log("不支持系统back键")}},!1),e()&&r.setLeft({control:!0,text:""},function(e){if(e.errorCode)console.error(e);else{var a=n("back");a||dd.biz.navigation.goBack()}})});var c=function(e,n,a,i){e=e||"",n=n||{},a=a||"",i=i||function(){};var o=function(e){var n=[];for(var a in e)e.hasOwnProperty(a)&&n.push(a);return n};if("object"==typeof n){for(var t="",r=o(n),s=0;s<r.length;s++)t+=encodeURIComponent(r[s])+"="+encodeURIComponent(n[r[s]]),s!=r.length-1&&(t+="&");e+="?"+t}else"function"==typeof n&&(a=n,i=a);"function"==typeof a&&(i=a,a="callback"),Date.now||(Date.now=function(){return(new Date).getTime()});var c=Date.now(),d="jsonp"+Math.round(c+1000001*Math.random());window[d]=function(e){i(e);try{delete window[d]}catch(n){window[d]=void 0}},e+=-1===e.indexOf("?")?"?":"&";var u=document.createElement("script");u.setAttribute("src",e+a+"="+d),document.getElementsByTagName("head")[0].appendChild(u)}}();